import base64

def chunks(lst, n):
    for i in range(0, len(lst), n):
        yield lst[i:i + n]

in_file = open("crackObfuscatedStageOne.py", "rb")
data = in_file.read()
in_file.close()
secret_code = base64.b64encode(data)
chunked_code = list(chunks(secret_code,4))

out_file = open("crackObfuscatedStageTwo.py", "w")
count = 1
out_file.write("dummy_dict={\n")
for chunk in chunked_code:
    out_file.write(f"{count}: {chunk},\n")
    count += 1
out_file.write("}\n")

in_file = open("auxForStageTwo.py", "r")
data = in_file.read()
in_file.close()
out_file.write(data)
out_file.close()
